C51 COMPILER V9.57.0.0   MAIN                                                              05/26/2025 23:02:38 PAGE 1   


C51 COMPILER V9.57.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: E:\Study\Keil\keil c51\KeilData\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND 
                    -PRINT(.\Listings\main.lst) OBJECT(.\Objects\main.obj)

line level    source

   1          #include <REGX52.H>
   2          #include "Delay.h"
   3          #include "Motor.h"
   4          #include "LCD1602.h"
   5          #include "ADC0832.h"
   6          #include "Key.h"
   7          
   8          #define uchar unsigned char
   9          #define NO_KEY_PRESSED 0  // 定义无按键按下的状态值
*** WARNING C317 IN LINE 9 OF main.c: attempt to redefine macro 'NO_KEY_PRESSED'
  10          
  11          uchar light_value; // 光照强度变量
  12          
  13          /**
  14           * @brief 主函数
  15           */
  16          void main() {
  17   1          int last_key = NO_KEY_PRESSED;  // 上一次按键状态
  18   1      
  19   1          // 初始化ADC0832和LCD1602
  20   1          ADC0832_Init();
  21   1          LCD_Init();
  22   1      
  23   1          while (1) {
  24   2              int current_key = get_key_status();
  25   2              handle_key_events(&last_key, current_key);
  26   2      
  27   2              // 读取光照强度
  28   2              light_value = ADC0832_ReadChannel(0); // 假设光照传感器连接到通道0
  29   2      
  30   2              // 在LCD1602上显示光照强度
  31   2              LCD_ShowString(1, 1, "Light:");
  32   2              LCD_ShowNum(1, 7, light_value, 3);
  33   2              
  34   2              // 延时更新
  35   2              Delay(200);
*** WARNING C206 IN LINE 35 OF main.c: 'Delay': missing function-prototype
*** ERROR C267 IN LINE 35 OF main.c: 'Delay': requires ANSI-style prototype
  36   2          }
  37   1      }

C51 COMPILATION COMPLETE.  2 WARNING(S),  1 ERROR(S)
